import{An as d,Ct as n,Dt as R,En as g,Et as E,Ht as j,Kt as te,Lt as s,Qt as G,St as w,Tt as H,Vt as K,Zt as L,at as oe,bt as e,ct as re,kt as r,lt as se,n as z,ot as ae,qt as S,rn as f,ut as O,vt as T,xt as p,yt as ne,zt as N}from"./index-CbcZmXzd.js";var W="app-theme",v=G(localStorage.getItem(W)||"light");function le(){const M=()=>{v.value=v.value==="light"?"dark":"light"},u=l=>{v.value=l};return te(v,l=>{localStorage.setItem(W,l),document.documentElement.setAttribute("data-theme",l)},{immediate:!0}),{theme:v,toggleTheme:M,setTheme:u,isDark:()=>v.value==="dark"}}var ie={class:"header-nav"},de={class:"header-left"},ve={class:"main-nav"},ue={class:"nav-label"},ce=["onMouseenter","onMouseleave"],he={class:"nav-label"},we={key:0,class:"dropdown-menu"},pe={class:"header-right"},ke=["title"],me={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_e={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ge={class:"user-avatar-btn"},fe={class:"avatar"},Me={class:"avatar-text"},ye={key:0,class:"user-dropdown"},xe={class:"dropdown-content"},Ce={class:"user-info-section"},be={class:"dropdown-avatar"},Be={class:"dropdown-avatar-text"},Ve={class:"user-details"},je={class:"user-name"},He={class:"user-email"},U=200,Te=R({__name:"HeaderNav",setup(M){const u=se(),l=re(),k=oe(),{theme:P,toggleTheme:$}=le(),m=ne(()=>k.getters["user/currentUser"]),_=L({}),c=L({}),h=G(!1);let y=null;const Y={render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])},q={render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])},F={render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])},A={render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])},Q=[{key:"home",label:"首页",path:"/home",activePaths:["/home"],icon:Y},{key:"workbench",label:"工作台",path:"/workbench",activePaths:["/workbench"],icon:q},{key:"calendar",label:"日历看板",path:"/calendar",activePaths:["/calendar"],icon:F},{key:"review",label:"复习",activePaths:["/word","/word/theory","/word/coding"],icon:A,children:[{key:"theory",label:"八股文",path:"/word/theory",activePaths:["/word/theory"],icon:A},{key:"coding",label:"编程题",path:"/word/coding",activePaths:["/word/coding"],icon:{render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})])}}]},{key:"components",label:"常用组件",activePaths:["/file-upload","/tree-view","/virtual-table"],icon:{render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])},children:[{key:"file-upload",label:"文件上传",path:"/file-upload",activePaths:["/file-upload"],icon:{render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})])}},{key:"tree-view",label:"人员树",path:"/tree-view",activePaths:["/tree-view"],icon:{render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])}},{key:"virtual-table",label:"虚拟表格",path:"/virtual-table",activePaths:["/virtual-table"],icon:{render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M3 14h18M12 3v18"})])}}]}],x=a=>a.activePaths.some(t=>l.path===t||l.path.startsWith(t)),Z=a=>{c[a]&&(clearTimeout(c[a]),delete c[a]),_[a]=!0},J=a=>{c[a]=window.setTimeout(()=>{_[a]=!1,delete c[a]},U)},X=()=>{y&&clearTimeout(y),y=window.setTimeout(()=>{h.value=!1},U)},I=()=>{u.push("/profile"),h.value=!1},ee=(function(){var a=ae(function*(){try{yield k.dispatch("user/logout"),z.success("退出登录成功"),u.push("/login")}catch(t){console.error("退出登录失败:",t),z.error("退出登录失败")}h.value=!1});return function(){return a.apply(this,arguments)}})();return(a,t)=>{var C,b,B,V;const D=K("router-link");return s(),n("header",ie,[e("div",de,[t[4]||(t[4]=e("div",{class:"logo"},null,-1)),e("nav",ve,[(s(),n(T,null,N(Q,o=>(s(),n(T,{key:o.key},[o.children?(s(),n("div",{key:1,class:"nav-dropdown",onMouseenter:i=>Z(o.key),onMouseleave:i=>J(o.key)},[e("div",{class:g(["nav-item dropdown-trigger",{active:x(o)}])},[o.icon?(s(),p(j(o.icon),{key:0,class:"nav-icon"})):w("",!0),e("span",he,d(o.label),1),(s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:g(["nav-arrow",{rotated:_[o.key]}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))],2),_[o.key]?(s(),n("div",we,[(s(!0),n(T,null,N(o.children,i=>(s(),p(D,{key:i.key,to:i.path,class:g(["dropdown-item",{active:x(i)}])},{default:S(()=>[i.icon?(s(),p(j(i.icon),{key:0,class:"nav-icon-sm"})):w("",!0),H(" "+d(i.label),1)]),_:2},1032,["to","class"]))),128))])):w("",!0)],40,ce)):(s(),p(D,{key:0,to:o.path,class:g(["nav-item",{active:x(o)}])},{default:S(()=>[o.icon?(s(),p(j(o.icon),{key:0,class:"nav-icon"})):w("",!0),e("span",ue,d(o.label),1)]),_:2},1032,["to","class"]))],64))),64))])]),e("div",pe,[e("button",{class:"theme-toggle",onClick:t[0]||(t[0]=(...o)=>f($)&&f($)(...o)),title:f(P)==="light"?"切换到暗色模式":"切换到亮色模式"},[f(P)==="light"?(s(),n("svg",me,[...t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])])):(s(),n("svg",_e,[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])]))],8,ke),e("div",{class:"user-menu",onMouseenter:t[1]||(t[1]=o=>h.value=!0),onMouseleave:t[2]||(t[2]=o=>X())},[e("button",ge,[e("div",fe,[e("span",Me,d((((C=m.value)===null||C===void 0?void 0:C.username)||"U").charAt(0).toUpperCase()),1)])]),h.value?(s(),n("div",ye,[t[10]||(t[10]=e("div",{class:"dropdown-arrow"},null,-1)),e("div",xe,[e("div",Ce,[e("div",be,[e("span",Be,d((((b=m.value)===null||b===void 0?void 0:b.username)||"U").charAt(0).toUpperCase()),1)]),e("div",Ve,[e("div",je,d(((B=m.value)===null||B===void 0?void 0:B.username)||"用户"),1),e("div",He,d(((V=m.value)===null||V===void 0?void 0:V.email)||"user@example.com"),1)])]),t[9]||(t[9]=e("div",{class:"dropdown-divider"},null,-1)),e("button",{class:"dropdown-item",onClick:I},[...t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),H(" 个人资料 ",-1)])]),e("button",{class:"dropdown-item",onClick:ee},[...t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),H(" 退出登录 ",-1)])])])])):w("",!0)],32)])])}}}),Pe=O(Te,[["__scopeId","data-v-f13ee1cf"]]),$e={class:"app-layout"},Ae={class:"main-container"},De={class:"main-content"},Ee=R({__name:"MainLayout",setup(M){return(u,l)=>{const k=K("router-view");return s(),n("div",$e,[e("div",Ae,[E(Pe),e("main",De,[E(k)])])])}}}),Se=O(Ee,[["__scopeId","data-v-3e1a81c9"]]);export{Se as default};
