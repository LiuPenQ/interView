import{An as l,Ct as p,Dn as h,Dt as S,Kt as D,Lt as _,Pt as T,Qt as s,bt as a,ot as I,ut as k,vt as V,wt as C,yt as o,zt as B}from"./index-CP-rJig6.js";var H={class:"p-6"},L={class:"mb-4"},j=["disabled"],z={class:"performance-metrics mb-4"},N={class:"metrics-grid"},P={class:"metric-item"},A={class:"metric-value"},E={class:"metric-item"},F={class:"metric-value"},G={class:"metric-item"},K={class:"metric-value"},Q={class:"metric-item"},R={class:"metric-value"},Y={class:"metric-item"},q={class:"metric-value"},J={class:"metric-item"},O={class:"metric-value"},U={class:"table-cell",style:{width:"80px"}},W={class:"table-cell",style:{width:"120px"}},X={class:"table-cell",style:{width:"200px"}},Z={class:"table-cell",style:{width:"80px"}},aa={class:"table-cell",style:{width:"200px"}},ea={class:"table-cell",style:{width:"150px"}},ta={class:"table-cell",style:{width:"150px"}},la={class:"table-cell",style:{width:"150px"}},sa={class:"table-cell",style:{width:"120px"}},da={class:"table-cell",style:{width:"120px"}},ia=S({__name:"VirtualTable",setup(ra){const m=s(600),r=s(50),b=o(()=>Math.ceil(m.value/r.value)+2),v=s(1e4),u=s([]),c=s(!1),d=s(0),y=o(()=>Math.min(d.value+b.value,v.value)),f=o(()=>u.value.slice(d.value,y.value)),n=s(0),w=i=>{const e=[];for(let t=0;t<i;t++)e.push({id:t+1,name:`用户${t+1}`,email:`user${t+1}@example.com`,age:Math.floor(Math.random()*40)+20,address:`北京市朝阳区${Math.floor(Math.random()*1e3)}号`,phone:`138${Math.floor(Math.random()*1e8)}`,company:`公司${Math.floor(Math.random()*100)}`,position:`职位${Math.floor(Math.random()*50)}`,salary:Math.floor(Math.random()*2e4)+1e4,joinDate:`${2020+Math.floor(Math.random()*5)}-${String(Math.floor(Math.random()*12)+1).padStart(2,"0")}-${String(Math.floor(Math.random()*28)+1).padStart(2,"0")}`});return e},x=(function(){var i=I(function*(){c.value=!0,yield new Promise(e=>setTimeout(e,1e3)),u.value=w(v.value),c.value=!1});return function(){return i.apply(this,arguments)}})(),g=i=>{const e=i.target;n.value=Math.floor(e.scrollTop),d.value=Math.floor(n.value/r.value)},M=o(()=>d.value*r.value),$=o(()=>v.value*r.value);return T(()=>{x()}),D(u,()=>{d.value=0,n.value=0}),(i,e)=>(_(),p("div",H,[e[8]||(e[8]=a("h1",{class:"text-xl font-bold mb-6"},"虚拟表格性能测试",-1)),a("div",L,[a("button",{class:"btn primary",onClick:x,disabled:c.value},l(c.value?"加载中...":"重新加载数据"),9,j)]),a("div",z,[e[6]||(e[6]=a("h2",{class:"text-lg font-semibold mb-2"},"性能指标",-1)),a("div",N,[a("div",P,[e[0]||(e[0]=a("span",{class:"metric-label"},"总数据量:",-1)),a("span",A,l(v.value)+" 条",1)]),a("div",E,[e[1]||(e[1]=a("span",{class:"metric-label"},"可视区域行数:",-1)),a("span",F,l(b.value)+" 行",1)]),a("div",G,[e[2]||(e[2]=a("span",{class:"metric-label"},"当前渲染行数:",-1)),a("span",K,l(f.value.length)+" 行",1)]),a("div",Q,[e[3]||(e[3]=a("span",{class:"metric-label"},"起始索引:",-1)),a("span",R,l(d.value),1)]),a("div",Y,[e[4]||(e[4]=a("span",{class:"metric-label"},"结束索引:",-1)),a("span",q,l(y.value),1)]),a("div",J,[e[5]||(e[5]=a("span",{class:"metric-label"},"滚动位置:",-1)),a("span",O,l(n.value)+"px",1)])])]),a("div",{ref:"containerRef",class:"virtual-table-container",style:h({height:`${m.value}px`}),onScroll:g},[e[7]||(e[7]=C('<div class="table-header" data-v-d58cd0d5><div class="header-cell" style="width:80px;" data-v-d58cd0d5>ID</div><div class="header-cell" style="width:120px;" data-v-d58cd0d5>姓名</div><div class="header-cell" style="width:200px;" data-v-d58cd0d5>邮箱</div><div class="header-cell" style="width:80px;" data-v-d58cd0d5>年龄</div><div class="header-cell" style="width:200px;" data-v-d58cd0d5>地址</div><div class="header-cell" style="width:150px;" data-v-d58cd0d5>电话</div><div class="header-cell" style="width:150px;" data-v-d58cd0d5>公司</div><div class="header-cell" style="width:150px;" data-v-d58cd0d5>职位</div><div class="header-cell" style="width:120px;" data-v-d58cd0d5>薪资</div><div class="header-cell" style="width:120px;" data-v-d58cd0d5>入职日期</div></div>',1)),a("div",{class:"table-body",style:h({height:`${$.value}px`,position:"relative"})},[a("div",{class:"visible-data",style:h({transform:`translateY(${M.value}px)`,position:"absolute",top:0,left:0,right:0})},[(_(!0),p(V,null,B(f.value,t=>(_(),p("div",{key:t.id,class:"table-row",style:h({height:`${r.value}px`})},[a("div",U,l(t.id),1),a("div",W,l(t.name),1),a("div",X,l(t.email),1),a("div",Z,l(t.age),1),a("div",aa,l(t.address),1),a("div",ea,l(t.phone),1),a("div",ta,l(t.company),1),a("div",la,l(t.position),1),a("div",sa,"¥"+l(t.salary.toLocaleString()),1),a("div",da,l(t.joinDate),1)],4))),128))],4)],4)],36)]))}}),va=k(ia,[["__scopeId","data-v-d58cd0d5"]]);export{va as default};
